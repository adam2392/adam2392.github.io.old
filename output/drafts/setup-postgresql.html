<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Adam Li's blog</title>
	<meta name="description" content="">
	<meta name="author" content="Adam Li">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="https://adam2392.github.io/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="https://adam2392.github.io/theme/bootstrap.min.css" rel="stylesheet">
	<link href="https://adam2392.github.io/theme/local.css" rel="stylesheet">
	<link href="https://adam2392.github.io/theme/pygments.css" rel="stylesheet">

	<!-- Feeds -->
	<link href="https://adam2392.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Adam Li's blog Atom Feed" />


	<link href="https://adam2392.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Adam Li's blog RSS Feed" />


<script>var _gaq=[['_setAccount','UA-106551801-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
</head>
<body>
<a href="https://github.com/adam2392"><img style="position: absolute; top: 39px; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub" /></a>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="https://adam2392.github.io/">Adam Li's blog</a>
			<ul class="nav">
					<li><a href="/categories.html">Blog</a></li>
					<li><a href="/archives.html">Timeline</a></li>
					<li><a href="/tags.html">Tags</a></li>
					<li><a href="/pdfs/AdamLi_CV.pdf">Curriculum Vitae</a></li>
						<li><a href="https://adam2392.github.io/contact/">Contact</a></li>
					<li ><a href="https://adam2392.github.io/category/academic.html">Academic</a></li>
					<li class="active"><a href="https://adam2392.github.io/category/coding.html">Coding</a></li>
					<li ><a href="https://adam2392.github.io/category/machine-learning.html">Machine Learning</a></li>
					<li ><a href="https://adam2392.github.io/category/personal.html">Personal</a></li>
					<li ><a href="https://adam2392.github.io/category/travel.html">Travel</a></li>
					<li ><a href="https://adam2392.github.io/category/views.html">Views</a></li>
			</ul>
			<p class="pull-right"><a href="https://adam2392.github.io/archives.html">[archives]</a> <a href="https://adam2392.github.io/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
				<li><a href="http://getpelican.com/">Pelican</a></li>
				<li><a href="http://python.org/">Python.org</a></li>
				<li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
				<li><a href="#">You can modify those links in your config file</a></li>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				<li><a href="https://twitter.com/adam2392">twitter</a></li>
				<li><a href="https://stackexchange.com/users/4494355/ajl123">stack-overflow</a></li>
				<li><a href="https://github.com/adam2392">github</a></li>
				<li><a href="https://www.linkedin.com/in/adam2392">linkedin</a></li>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
	<div class='article'>
		<div class="page-header"><h1>Setting Up Postgre SQL</h1></div>
		<div class="well small">Permalink: <a class="more" href="https://adam2392.github.io/drafts/setup-postgresql.html">2018-06-17 00:00:00-04:00</a>
by <a class="url fn" href="https://adam2392.github.io/author/adam-li.html">Adam Li </a>
 in <a href="https://adam2392.github.io/category/coding.html">Coding</a>
tags: <a href="https://adam2392.github.io/tag/webdev.html">webdev</a> <a href="https://adam2392.github.io/tag/sql.html">sql</a> <a href="https://adam2392.github.io/tag/postgres.html">postgres</a> <a href="https://adam2392.github.io/tag/macos.html">macos</a> </div>
		<div><h1>Getting Setup with PostgreSQL</h1>
<h1>By: Adam Li</h1>
<h3>Table of Contents</h3>
<!-- MarkdownTOC -->

<ul>
<li>Installation</li>
<li>Set Up<ul>
<li>1a. Using a LaunchAgent and plist to Launch PostgreSQL on Startup<ul>
<li>1b. Manually Starting PostgreSQL</li>
</ul>
</li>
<li>
<ol>
<li>Initializing Database</li>
</ol>
</li>
<li>
<ol>
<li>Creating and Deleting Databases</li>
</ol>
</li>
<li>4.<ul>
<li>1c. Use Docker</li>
</ul>
</li>
</ul>
</li>
<li>Testing<ul>
<li>1.</li>
<li>2.</li>
</ul>
</li>
<li>Deployment</li>
<li>References:</li>
</ul>
<!-- /MarkdownTOC -->

<h1>Installation</h1>
<p>The following packages need to be installed for a test time environment:</p>
<div class="highlight"><pre><span></span><span class="n">brew</span> <span class="k">update</span>
<span class="n">brew</span> <span class="n">doctor</span>
<span class="n">brew</span> <span class="n">install</span> <span class="n">postgres</span>
</pre></div>


<ul>
<li>Testrpc is an in-memory blockchain that can be used to test the development of the application.</li>
<li>Web3 is essentially the web interface with the backend and frontend.</li>
<li>Solc is a solidity code compiler</li>
<li>Truffle is a web framework for building dAPPs using Ethereum</li>
</ul>
<h1>Set Up</h1>
<h2>1a. Using a LaunchAgent and plist to Launch PostgreSQL on Startup</h2>
<p>First, you’ll need to create a directory for your LaunchAgents to reside (if the directory doesn’t exist already). LaunchAgents in OS X are simple scripts used by launchd that cause the system to run programs or code during startup.</p>
<div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchAgents</span>
</pre></div>


<p>Now you’ll need to create a symbolic link from the script that actually allows Postgres to run to the LaunchAgents directory. A symbolic link is similar to creating a new copy of a file for use in another directory, but since the link is ‘symbolic’, the link is just a forwarding address: any request made to that symbolic link location is actually “forwarded along” or redirected to where the real file actually resides.</p>
<div class="highlight"><pre><span></span><span class="n">ln</span> <span class="o">-</span><span class="n">sfv</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="k">local</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">postgresql</span><span class="cm">/*.plist ~/Library/LaunchAgents</span>
</pre></div>


<p>Note: Double-check that the command is correct: It should’ve been part of the installation output mentioned above when Homebrew installed Postgres initially.</p>
<p>Finally, we load the new symbolic linked LaunchAgent file using the launchctl load command, which is specifically what informs the computer to run this script and start Postgres when the computer launches. Again, the exact command to enter for your own installation will be an output during Homebrew’s Postgres installation, but it should look something like this:</p>
<div class="highlight"><pre><span></span><span class="n">launchctl</span> <span class="k">load</span> <span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchAgents</span><span class="o">/</span><span class="n">homebrew</span><span class="p">.</span><span class="n">mxcl</span><span class="p">.</span><span class="n">postgresql</span><span class="p">.</span><span class="n">plist</span>
</pre></div>


<h3>1b. Manually Starting PostgreSQL</h3>
<div class="highlight"><pre><span></span><span class="n">postgres</span> <span class="o">-</span><span class="n">D</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="k">local</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">postgres</span>
</pre></div>


<h2>2. Initializing Database</h2>
<h2>3. Creating and Deleting Databases</h2>
<h2>4.</h2>
<h3>1c. Use Docker</h3>
<p>Refer to https://medium.com/@leo_hetsch/local-development-with-go-postgresql-and-elasticsearch-in-docker-61bc8a0d5e66 for a nice little explanation for some common docker installation commands for postgresql and elastic search.</p>
<div class="highlight"><pre><span></span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="o">-</span><span class="n">f</span> <span class="k">local</span><span class="p">.</span><span class="n">yml</span> <span class="n">build</span>
</pre></div>


<p>or </p>
<div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">COMPOSE_FILE</span><span class="o">=</span><span class="k">local</span><span class="p">.</span><span class="n">yml</span>
<span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">up</span>
</pre></div>


<p>Possible / common methods:</p>
<div class="highlight"><pre><span></span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="o">-</span><span class="n">f</span> <span class="k">local</span><span class="p">.</span><span class="n">yml</span> <span class="n">run</span> <span class="c1">--rm django python manage.py migrate</span>
<span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="o">-</span><span class="n">f</span> <span class="k">local</span><span class="p">.</span><span class="n">yml</span> <span class="n">run</span> <span class="c1">--rm django python manage.py createsuperuser</span>
</pre></div>


<p>Since docker is composed of a set of build commands, you should read up on the documentation here:</p>
<p>https://docs.docker.com/compose/compose-file/#resources</p>
<h1>Testing</h1>
<h2>1.</h2>
<h2>2.</h2>
<h1>Deployment</h1>
<h1>References:</h1>
<ol>
<li>http://boot2docker.io/</li>
<li>https://docs.docker.com/engine/examples/postgresql_service/#installing-postgresql-on-docker</li>
<li>https://chartio.com/resources/tutorials/how-to-start-postgresql-server-on-mac-os-x/</li>
<li>https://www.pubnub.com/blog/testing-and-deploying-an-ethereum-token-part-2/</li>
</ol></div>
		<div>
			<h2>Comments</h2>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="adam2392">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
		<div>
	</div>
		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; Adam Li</p>
		</footer>
	  </div>

	</div>
</body>
</html>