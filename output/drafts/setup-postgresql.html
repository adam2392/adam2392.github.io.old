<!DOCTYPE html>
<html lang="en">
<head>
          <title>Adam Li's blog - Setting Up Postgre SQL</title>
        <meta charset="utf-8" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Adam Li's blog Full Atom Feed" />
        <link href="/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Adam Li's blog Full RSS Feed" />
        <link href="/feeds/coding.atom.xml" type="application/atom+xml" rel="alternate" title="Adam Li's blog Categories Atom Feed" />




    <meta name="tags" content="webdev" />
    <meta name="tags" content="sql" />
    <meta name="tags" content="postgres" />
    <meta name="tags" content="macos" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Adam Li's blog <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/categories.html">Blog</a></li>
            <li><a href="/archives.html">Timeline</a></li>
            <li><a href="/tags.html">Tags</a></li>
            <li><a href="/pdfs/AdamLi_CV.pdf">Curriculum Vitae</a></li>
            <li><a href="/contact/">Contact</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/drafts/setup-postgresql.html" rel="bookmark"
         title="Permalink to Setting Up Postgre SQL">Setting Up Postgre SQL</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2018-06-17T00:00:00-04:00">
      Sun 17 June 2018
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="/author/adam-li.html">Adam Li</a>
    </address>
    <div class="category">
        Category: <a href="/category/coding.html">Coding</a>
    </div>
    <div class="tags">
        Tags:
            <a href="/tag/webdev.html">webdev</a>
            <a href="/tag/sql.html">sql</a>
            <a href="/tag/postgres.html">postgres</a>
            <a href="/tag/macos.html">macos</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <h1>Getting Setup with PostgreSQL</h1>
<h1>By: Adam Li</h1>
<h3>Table of Contents</h3>
<!-- MarkdownTOC -->

<ul>
<li>Installation</li>
<li>Set Up<ul>
<li>1a. Using a LaunchAgent and plist to Launch PostgreSQL on Startup<ul>
<li>1b. Manually Starting PostgreSQL</li>
</ul>
</li>
<li>
<ol>
<li>Initializing Database</li>
</ol>
</li>
<li>
<ol>
<li>Creating and Deleting Databases</li>
</ol>
</li>
<li>4.<ul>
<li>1c. Use Docker</li>
</ul>
</li>
</ul>
</li>
<li>Testing<ul>
<li>1.</li>
<li>2.</li>
</ul>
</li>
<li>Deployment</li>
<li>References:</li>
</ul>
<!-- /MarkdownTOC -->

<h1>Installation</h1>
<p>The following packages need to be installed for a test time environment:</p>
<div class="highlight"><pre><span></span><span class="n">brew</span> <span class="k">update</span>
<span class="n">brew</span> <span class="n">doctor</span>
<span class="n">brew</span> <span class="n">install</span> <span class="n">postgres</span>
</pre></div>


<ul>
<li>Testrpc is an in-memory blockchain that can be used to test the development of the application.</li>
<li>Web3 is essentially the web interface with the backend and frontend.</li>
<li>Solc is a solidity code compiler</li>
<li>Truffle is a web framework for building dAPPs using Ethereum</li>
</ul>
<h1>Set Up</h1>
<h2>1a. Using a LaunchAgent and plist to Launch PostgreSQL on Startup</h2>
<p>First, you’ll need to create a directory for your LaunchAgents to reside (if the directory doesn’t exist already). LaunchAgents in OS X are simple scripts used by launchd that cause the system to run programs or code during startup.</p>
<div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchAgents</span>
</pre></div>


<p>Now you’ll need to create a symbolic link from the script that actually allows Postgres to run to the LaunchAgents directory. A symbolic link is similar to creating a new copy of a file for use in another directory, but since the link is ‘symbolic’, the link is just a forwarding address: any request made to that symbolic link location is actually “forwarded along” or redirected to where the real file actually resides.</p>
<div class="highlight"><pre><span></span><span class="n">ln</span> <span class="o">-</span><span class="n">sfv</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="k">local</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">postgresql</span><span class="cm">/*.plist ~/Library/LaunchAgents</span>
</pre></div>


<p>Note: Double-check that the command is correct: It should’ve been part of the installation output mentioned above when Homebrew installed Postgres initially.</p>
<p>Finally, we load the new symbolic linked LaunchAgent file using the launchctl load command, which is specifically what informs the computer to run this script and start Postgres when the computer launches. Again, the exact command to enter for your own installation will be an output during Homebrew’s Postgres installation, but it should look something like this:</p>
<div class="highlight"><pre><span></span><span class="n">launchctl</span> <span class="k">load</span> <span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchAgents</span><span class="o">/</span><span class="n">homebrew</span><span class="p">.</span><span class="n">mxcl</span><span class="p">.</span><span class="n">postgresql</span><span class="p">.</span><span class="n">plist</span>
</pre></div>


<h3>1b. Manually Starting PostgreSQL</h3>
<div class="highlight"><pre><span></span><span class="n">postgres</span> <span class="o">-</span><span class="n">D</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="k">local</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">postgres</span>
</pre></div>


<h2>2. Initializing Database</h2>
<h2>3. Creating and Deleting Databases</h2>
<h2>4.</h2>
<h3>1c. Use Docker</h3>
<p>Refer to https://medium.com/@leo_hetsch/local-development-with-go-postgresql-and-elasticsearch-in-docker-61bc8a0d5e66 for a nice little explanation for some common docker installation commands for postgresql and elastic search.</p>
<div class="highlight"><pre><span></span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="o">-</span><span class="n">f</span> <span class="k">local</span><span class="p">.</span><span class="n">yml</span> <span class="n">build</span>
</pre></div>


<p>or </p>
<div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">COMPOSE_FILE</span><span class="o">=</span><span class="k">local</span><span class="p">.</span><span class="n">yml</span>
<span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">up</span>
</pre></div>


<p>Possible / common methods:</p>
<div class="highlight"><pre><span></span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="o">-</span><span class="n">f</span> <span class="k">local</span><span class="p">.</span><span class="n">yml</span> <span class="n">run</span> <span class="c1">--rm django python manage.py migrate</span>
<span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="o">-</span><span class="n">f</span> <span class="k">local</span><span class="p">.</span><span class="n">yml</span> <span class="n">run</span> <span class="c1">--rm django python manage.py createsuperuser</span>
</pre></div>


<p>Since docker is composed of a set of build commands, you should read up on the documentation here:</p>
<p>https://docs.docker.com/compose/compose-file/#resources</p>
<h1>Testing</h1>
<h2>1.</h2>
<h2>2.</h2>
<h1>Deployment</h1>
<h1>References:</h1>
<ol>
<li>http://boot2docker.io/</li>
<li>https://docs.docker.com/engine/examples/postgresql_service/#installing-postgresql-on-docker</li>
<li>https://chartio.com/resources/tutorials/how-to-start-postgresql-server-on-mac-os-x/</li>
<li>https://www.pubnub.com/blog/testing-and-deploying-an-ethereum-token-part-2/</li>
</ol>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>