<!DOCTYPE html>
<html lang="en">
<head>
          <title>Adam Li's blog - Setting Up a Pelican Site</title>
        <meta charset="utf-8" />
        <link href="https://adam2392.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Adam Li's blog Full Atom Feed" />
        <link href="https://adam2392.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Adam Li's blog Full RSS Feed" />




    <meta name="tags" content="pelican" />
    <meta name="tags" content="publishing" />
    <meta name="tags" content="webdev" />
    <meta name="tags" content="python" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://adam2392.github.io/">Adam Li's blog <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/categories.html">Blog</a></li>
            <li><a href="/archives.html">Timeline</a></li>
            <li><a href="/tags.html">Tags</a></li>
            <li><a href="/pdfs/AdamLi_CV.pdf">Curriculum Vitae</a></li>
            <li><a href="https://adam2392.github.io/contact/">Contact</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://adam2392.github.io/blog/2017/06/setup-pelican-site/" rel="bookmark"
         title="Permalink to Setting Up a Pelican Site">Setting Up a Pelican Site</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2017-06-04T00:00:00-04:00">
      Sun 04 June 2017
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="https://adam2392.github.io/author/adam-li.html">Adam Li</a>
    </address>
    <div class="category">
        Category: <a href="https://adam2392.github.io/category/coding.html">Coding</a>
    </div>
    <div class="tags">
        Tags:
            <a href="https://adam2392.github.io/tag/pelican.html">pelican</a>
            <a href="https://adam2392.github.io/tag/publishing.html">publishing</a>
            <a href="https://adam2392.github.io/tag/webdev.html">webdev</a>
            <a href="https://adam2392.github.io/tag/python.html">python</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <h1>Getting Setup with Pelican Site</h1>
<h1>By: Adam Li</h1>
<h3>Table of Contents</h3>
<!-- MarkdownTOC autolink="True" -->

<ul>
<li><a href="#installation">Installation</a><ul>
<li><a href="#1-condapip-install">1. Conda/Pip Install</a></li>
<li><a href="#2-start-up-pelican">2. Start up pelican:</a></li>
<li><a href="#3-installing-common-pelican-themes-and-pelican-plugins">3. Installing common pelican-themes and pelican-plugins:</a></li>
</ul>
</li>
<li><a href="#choosing-your-hosting-server">Choosing Your Hosting Server</a></li>
<li><a href="#installing-and-choosing-themesplugins">Installing and Choosing Themes/Plugins</a></li>
<li><a href="#pushing-content-to-cloud">Pushing Content to Cloud</a><ul>
<li><a href="#1-via-fab-old">1. Via Fab (Old)</a></li>
<li><a href="#2-via-git-directly">2. Via Git Directly</a></li>
</ul>
</li>
<li><a href="#adding-pages-of-static-content">Adding Pages of Static Content</a></li>
<li><a href="#adding-articles-to-your-blog">Adding Articles To Your Blog</a></li>
<li><a href="#adding-gallery--images-to-your-blog">Adding Gallery / Images To Your Blog</a></li>
<li><a href="#references">References:</a></li>
</ul>
<!-- /MarkdownTOC -->

<h1>Installation</h1>
<h2>1. Conda/Pip Install</h2>
<p>After getting your virtualenv setup, run 'pip install pelican'. Also include additional packages:</p>
<div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">Markdown</span> <span class="n">beautifulsoup4</span> <span class="n">typogrify</span> <span class="n">Pillow</span> <span class="n">webassets</span>
</pre></div>


<p>or</p>
<div class="highlight"><pre><span></span><span class="nv">conda</span> <span class="nv">create</span> <span class="o">-</span><span class="nv">n</span> <span class="nv">website</span> <span class="nv">python</span><span class="o">=</span><span class="nv">python3</span>
<span class="nv">conda</span> <span class="nv">install</span> <span class="o">-</span><span class="nv">c</span> <span class="nv">conda</span><span class="o">-</span><span class="nv">forge</span> <span class="nv">pelican</span>
<span class="nv">conda</span> <span class="nv">install</span> <span class="o">-</span><span class="nv">c</span> <span class="nv">conda</span><span class="o">-</span><span class="nv">forge</span> <span class="nv">pyaml</span> 
<span class="nv">conda</span> <span class="nv">install</span> <span class="o">-</span><span class="nv">c</span> <span class="nv">anaconda</span> <span class="nv">markdown</span>
<span class="nv">conda</span> <span class="nv">install</span> <span class="o">-</span><span class="nv">c</span> <span class="nv">anaconda</span> <span class="nv">beautifulsoup4</span> 
<span class="nv">conda</span> <span class="nv">install</span> <span class="o">-</span><span class="nv">c</span> <span class="nv">conda</span><span class="o">-</span><span class="nv">forge</span> <span class="nv">pillow</span>
<span class="nv">conda</span> <span class="nv">install</span> <span class="o">-</span><span class="nv">c</span> <span class="nv">conda</span><span class="o">-</span><span class="nv">forge</span> <span class="nv">gettext</span> 
<span class="nv">conda</span> <span class="nv">install</span> <span class="o">-</span><span class="nv">c</span> <span class="nv">damianavila82</span> <span class="nv">piexif</span> # <span class="k">for</span>
<span class="nv">pip</span> <span class="nv">install</span> <span class="nv">pyexif</span>
<span class="nv">conda</span> <span class="nv">install</span> <span class="o">-</span><span class="nv">c</span> <span class="nv">conda</span><span class="o">-</span><span class="nv">forge</span> <span class="nv">ghp</span><span class="o">-</span><span class="nv">import</span>
</pre></div>


<p>for helping to write in Markdown and writing pretty text.</p>
<h2>2. Start up pelican:</h2>
<p>First you will need to create a separate branch that you work on. This branch contains your actual markdown files, which are rendered and then copied OVER to your master branch during the Publishing section. This then renders html using git.</p>
<div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">source_branch</span><span class="o">&gt;</span>
<span class="n">pelican</span><span class="o">-</span><span class="n">quickstart</span>
</pre></div>


<p>then go through the directions and create your project.</p>
<h2>3. Installing common pelican-themes and pelican-plugins:</h2>
<div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="c1">--recursive https://github.com/getpelican/pelican-themes</span>
<span class="n">git</span> <span class="n">clone</span> <span class="c1">--recursive https://github.com/getpelican/pelican-plugins</span>
</pre></div>


<h1>Choosing Your Hosting Server</h1>
<p>There are a couple of options, but you should decide how you want to host your site because then it will be built into your pelican project directory.</p>
<ol>
<li>
<p>Github Pages: This is the free and most convenient way to do things.</p>
</li>
<li>
<p>S3 by Amazon: Costs money.</p>
</li>
<li>
<p>Heroku, PythonAnywhere, and More: </p>
</li>
</ol>
<h1>Installing and Choosing Themes/Plugins</h1>
<p>You need to install the pelican themes and the pelican plugins, if you want to use the open source themes and plugins developed. Then you can add code to your python files to add certain plugins:</p>
<div class="highlight"><pre><span></span><span class="n">PLUGIN_PATHS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;path/to/pelican-plugins&#39;</span><span class="p">]</span>
<span class="n">PLUGINS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;assets&#39;</span><span class="p">,</span> <span class="s1">&#39;sitemap&#39;</span><span class="p">,</span> <span class="s1">&#39;gravatar&#39;</span><span class="p">]</span>
<span class="n">JINJA_ENVIRONMENT</span> <span class="o">=</span> <span class="err">{</span><span class="s1">&#39;extensions&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;jinja2.ext.i18n&#39;</span><span class="p">]</span><span class="err">}</span>
</pre></div>


<h1>Pushing Content to Cloud</h1>
<h2>1. Via Fab (Old)</h2>
<p>'pip install ghp-import fabric'</p>
<ol>
<li>Using ghp-import:</li>
</ol>
<p>First run install by 'pip install ghp-import'</p>
<p>Then you can run code like:</p>
<div class="highlight"><pre><span></span><span class="err">$</span> <span class="n">ghp</span><span class="o">-</span><span class="kn">import</span> <span class="o">-</span><span class="n">m</span> <span class="s1">&#39;commit message&#39;</span> <span class="o">-</span><span class="n">b</span> <span class="n">master</span> <span class="n">output</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">push</span> <span class="o">--</span><span class="nb">all</span>
</pre></div>


<ol>
<li>Using fab:</li>
</ol>
<p>First install fabric by running 'pip install fabric'. Then insert code into your fabfile.py:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">publishghp</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
    <span class="n">preview</span><span class="p">()</span> <span class="c1">#builds publishconf.py</span>
    <span class="n">local</span><span class="p">(</span><span class="s2">&quot;git add -A&quot;</span><span class="p">)</span> <span class="c1">#will commit allll files, be careful</span>
    <span class="n">local</span><span class="p">(</span><span class="s2">&quot;git commit -m &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="o">%</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">local</span><span class="p">(</span><span class="s2">&quot;ghp-import -m &#39;</span><span class="si">%s</span><span class="s2">&#39; -b master output&quot;</span><span class="o">%</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">local</span><span class="p">(</span><span class="s2">&quot;git push --all&quot;</span><span class="p">)</span>
</pre></div>


<p>and then run </p>
<div class="highlight"><pre><span></span>$ fab publishghp:<span class="s2">&quot;commit message&quot;</span>
</pre></div>


<p>to create commits up to the cloud.</p>
<h2>2. Via Git Directly</h2>
<p>Before doing anything, check locally if files look right:</p>
<div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">html</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="n">serve</span>
</pre></div>


<p>First just push all your stuff to your path.</p>
<div class="highlight"><pre><span></span><span class="n">git</span> <span class="k">add</span> <span class="o">-</span><span class="n">A</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="k">commit</span> <span class="o">-</span><span class="n">a</span> <span class="o">-</span><span class="n">m</span> <span class="s1">&#39;first commit&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">push</span> <span class="c1">--all</span>
</pre></div>


<p>Then:</p>
<div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">github</span>
</pre></div>


<h1>Adding Pages of Static Content</h1>
<p>Here you want to add a homepage, about me page and other static pages that are relevant to your site. Create a directory inside /content/pages/ to hold your static pages. Separate blog content and other content and use pelicanconf.py along w/ plugins to play around with the visuals and presentation of the site.</p>
<h1>Adding Articles To Your Blog</h1>
<p>To add articles to your blog, create /content/blog/ directory and create subdirectories in there. For example, I have academic, coding, and travel as my subdirectories in my blog. Then adjust your pelicanconf.py file for these blog posts.</p>
<h1>Adding Gallery / Images To Your Blog</h1>
<p>Adding images to your blog require the following packages:
- exeif
- </p>
<p>https://kwkelly.com/blog/adding-galleries-to-pelican-and-bootstrap/
http://duncanlock.net/blog/2013/05/29/better-figures-images-plugin-for-pelican/</p>
<h1>References:</h1>
<ol>
<li>https://www.notionsandnotes.org/tech/web-development/pelican-static-blog-setup.html</li>
<li>http://terriyu.info/blog/posts/2013/07/pelican-setup/</li>
<li>http://beneathdata.com/how-to/how-i-built-this-website/</li>
<li>Pelican-plugins: https://github.com/getpelican/pelican-plugins</li>
<li>Pelican-themes: https://github.com/getpelican/pelican-themes</li>
<li>Walkthru of Pelican w/ Python3.7: https://rsip22.github.io/blog/create-a-blog-with-pelican-and-github-pages.html</li>
</ol>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>